!function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=function(e){return e&&e.Math==Math&&e},f=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")(),d=function(e){try{return!!e()}catch(e){return!0}},c=!d(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o={f:r&&!i.call({1:2},1)?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},g=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},a={}.toString,s=function(e){return a.call(e).slice(8,-1)},l="".split,y=d(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==s(e)?l.call(e,""):Object(e)}:Object,u=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},h=function(e){return y(u(e))},v=function(e){return"object"==typeof e?null!==e:"function"==typeof e},p=function(e,t){if(!v(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!v(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!v(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!v(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},m={}.hasOwnProperty,w=function(e,t){return m.call(e,t)},b=f.document,x=v(b)&&v(b.createElement),S=function(e){return x?b.createElement(e):{}},C=!c&&!d(function(){return 7!=Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a}),O=Object.getOwnPropertyDescriptor,E={f:c?O:function(e,t){if(e=h(e),t=p(t,!0),C)try{return O(e,t)}catch(e){}if(w(e,t))return g(!o.f.call(e,t),e[t])}},A=function(e){if(!v(e))throw TypeError(String(e)+" is not an object");return e},P=Object.defineProperty,I={f:c?P:function(e,t,n){if(A(e),t=p(t,!0),A(n),C)try{return P(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},k=c?function(e,t,n){return I.f(e,t,g(1,n))}:function(e,t,n){return e[t]=n,e},T=function(t,n){try{k(f,t,n)}catch(e){f[t]=n}return n},j="__core-js_shared__",R=f[j]||T(j,{}),D=Function.toString;"function"!=typeof R.inspectSource&&(R.inspectSource=function(e){return D.call(e)});var z,M,F,N=R.inspectSource,W=f.WeakMap,L="function"==typeof W&&/native code/.test(N(W)),G=t(function(e){(e.exports=function(e,t){return R[e]||(R[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})}),U=0,$=Math.random(),X=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++U+$).toString(36)},B=G("keys"),V=function(e){return B[e]||(B[e]=X(e))},H={},J=f.WeakMap;if(L){var K=new J,Q=K.get,Y=K.has,q=K.set;z=function(e,t){return q.call(K,e,t),t},M=function(e){return Q.call(K,e)||{}},F=function(e){return Y.call(K,e)}}else{var Z=V("state");H[Z]=!0,z=function(e,t){return k(e,Z,t),t},M=function(e){return w(e,Z)?e[Z]:{}},F=function(e){return w(e,Z)}}var ee,te={set:z,get:M,has:F,enforce:function(e){return F(e)?M(e):z(e,{})},getterFor:function(n){return function(e){var t;if(!v(e)||(t=M(e)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return t}}},ne=t(function(e){var t=te.get,s=te.enforce,c=String(String).split("String");(e.exports=function(e,t,n,i){var r=!!i&&!!i.unsafe,o=!!i&&!!i.enumerable,a=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof t||w(n,"name")||k(n,"name",t),s(n).source=c.join("string"==typeof t?t:"")),e!==f?(r?!a&&e[t]&&(o=!0):delete e[t],o?e[t]=n:k(e,t,n)):o?e[t]=n:T(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||N(this)})}),ie=f,re=function(e){return"function"==typeof e?e:void 0},oe=function(e,t){return arguments.length<2?re(ie[e])||re(f[e]):ie[e]&&ie[e][t]||f[e]&&f[e][t]},ae=Math.ceil,se=Math.floor,ce=function(e){return isNaN(e=+e)?0:(0<e?se:ae)(e)},le=Math.min,fe=function(e){return 0<e?le(ce(e),9007199254740991):0},de=Math.max,ue=Math.min,ge=function(e,t){var n=ce(e);return n<0?de(n+t,0):ue(n,t)},he=function(s){return function(e,t,n){var i,r=h(e),o=fe(r.length),a=ge(n,o);if(s&&t!=t){for(;a<o;)if((i=r[a++])!=i)return!0}else for(;a<o;a++)if((s||a in r)&&r[a]===t)return s||a||0;return!s&&-1}},ve={includes:he(!0),indexOf:he(!1)}.indexOf,pe=function(e,t){var n,i=h(e),r=0,o=[];for(n in i)!w(H,n)&&w(i,n)&&o.push(n);for(;t.length>r;)w(i,n=t[r++])&&(~ve(o,n)||o.push(n));return o},me=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],we=me.concat("length","prototype"),be={f:Object.getOwnPropertyNames||function(e){return pe(e,we)}},ye={f:Object.getOwnPropertySymbols},xe=oe("Reflect","ownKeys")||function(e){var t=be.f(A(e)),n=ye.f;return n?t.concat(n(e)):t},_e=function(e,t){for(var n=xe(t),i=I.f,r=E.f,o=0;o<n.length;o++){var a=n[o];w(e,a)||i(e,a,r(t,a))}},Se=/#|\.prototype\./,Ce=function(e,t){var n=Ee[Oe(e)];return n==Ie||n!=Pe&&("function"==typeof t?d(t):!!t)},Oe=Ce.normalize=function(e){return String(e).replace(Se,".").toLowerCase()},Ee=Ce.data={},Pe=Ce.NATIVE="N",Ie=Ce.POLYFILL="P",Ae=Ce,ke=E.f,Te=function(e,t){var n,i,r,o,a,s=e.target,c=e.global,l=e.stat;if(n=c?f:l?f[s]||T(s,{}):(f[s]||{}).prototype)for(i in t){if(o=t[i],r=e.noTargetGet?(a=ke(n,i))&&a.value:n[i],!Ae(c?i:s+(l?".":"#")+i,e.forced)&&void 0!==r){if(typeof o==typeof r)continue;_e(o,r)}(e.sham||r&&r.sham)&&k(o,"sham",!0),ne(n,i,o,e)}},je=!!Object.getOwnPropertySymbols&&!d(function(){return!String(Symbol())}),Re=je&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,De=Array.isArray||function(e){return"Array"==s(e)},ze=function(e){return Object(u(e))},Me=Object.keys||function(e){return pe(e,me)},Fe=c?Object.defineProperties:function(e,t){A(e);for(var n,i=Me(t),r=i.length,o=0;o<r;)I.f(e,n=i[o++],t[n]);return e},Ne=oe("document","documentElement"),We="prototype",Le="script",Ge=V("IE_PROTO"),Ue=function(){},$e=function(e){return"<script>"+e+"</"+Le+">"},Xe=function(){try{ee=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Xe=ee?function(e){e.write($e("")),e.close();var t=e.parentWindow.Object;return e=null,t}(ee):((t=S("iframe")).style.display="none",Ne.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write($e("document.F=Object")),e.close(),e.F);for(var n=me.length;n--;)delete Xe[We][me[n]];return Xe()};H[Ge]=!0;var Be,Ve,He,Je=Object.create||function(e,t){var n;return null!==e?(Ue[We]=A(e),n=new Ue,Ue[We]=null,n[Ge]=e):n=Xe(),void 0===t?n:Fe(n,t)},Ke=be.f,Qe={}.toString,Ye="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],qe={f:function(e){return Ye&&"[object Window]"==Qe.call(e)?function(e){try{return Ke(e)}catch(e){return Ye.slice()}}(e):Ke(h(e))}},Ze=G("wks"),et=f.Symbol,tt=Re?et:et&&et.withoutSetter||X,nt=function(e){return w(Ze,e)||(je&&w(et,e)?Ze[e]=et[e]:Ze[e]=tt("Symbol."+e)),Ze[e]},it={f:nt},rt=I.f,ot=I.f,at=nt("toStringTag"),st=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},ct=nt("species"),lt=function(e,t){var n;return De(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!De(n.prototype)?v(n)&&null===(n=n[ct])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},ft=[].push,dt=function(g){var h=1==g,v=2==g,p=3==g,m=4==g,w=6==g,b=5==g||w;return function(e,t,n,i){for(var r,o,a=ze(e),s=y(a),c=function(i,r,e){if(st(i),void 0===r)return i;switch(e){case 0:return function(){return i.call(r)};case 1:return function(e){return i.call(r,e)};case 2:return function(e,t){return i.call(r,e,t)};case 3:return function(e,t,n){return i.call(r,e,t,n)}}return function(){return i.apply(r,arguments)}}(t,n,3),l=fe(s.length),f=0,d=i||lt,u=h?d(e,l):v?d(e,0):void 0;f<l;f++)if((b||f in s)&&(o=c(r=s[f],f,a),g))if(h)u[f]=o;else if(o)switch(g){case 3:return!0;case 5:return r;case 6:return f;case 2:ft.call(u,r)}else if(m)return!1;return w?-1:p||m?m:u}},ut={forEach:dt(0),map:dt(1),filter:dt(2),some:dt(3),every:dt(4),find:dt(5),findIndex:dt(6)},gt=ut.forEach,ht=V("hidden"),vt="Symbol",pt="prototype",mt=nt("toPrimitive"),wt=te.set,bt=te.getterFor(vt),yt=Object[pt],xt=f.Symbol,_t=oe("JSON","stringify"),St=E.f,Ct=I.f,Ot=qe.f,Et=o.f,Pt=G("symbols"),It=G("op-symbols"),At=G("string-to-symbol-registry"),kt=G("symbol-to-string-registry"),Tt=G("wks"),jt=f.QObject,Rt=!jt||!jt[pt]||!jt[pt].findChild,Dt=c&&d(function(){return 7!=Je(Ct({},"a",{get:function(){return Ct(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=St(yt,t);i&&delete yt[t],Ct(e,t,n),i&&e!==yt&&Ct(yt,t,i)}:Ct,zt=function(e,t){var n=Pt[e]=Je(xt[pt]);return wt(n,{type:vt,tag:e,description:t}),c||(n.description=t),n},Mt=Re?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof xt},Ft=function(e,t,n){e===yt&&Ft(It,t,n),A(e);var i=p(t,!0);return A(n),w(Pt,i)?(n.enumerable?(w(e,ht)&&e[ht][i]&&(e[ht][i]=!1),n=Je(n,{enumerable:g(0,!1)})):(w(e,ht)||Ct(e,ht,g(1,{})),e[ht][i]=!0),Dt(e,i,n)):Ct(e,i,n)},Nt=function(t,e){A(t);var n=h(e),i=Me(n).concat(Ut(n));return gt(i,function(e){c&&!Wt.call(n,e)||Ft(t,e,n[e])}),t},Wt=function(e){var t=p(e,!0),n=Et.call(this,t);return!(this===yt&&w(Pt,t)&&!w(It,t))&&(!(n||!w(this,t)||!w(Pt,t)||w(this,ht)&&this[ht][t])||n)},Lt=function(e,t){var n=h(e),i=p(t,!0);if(n!==yt||!w(Pt,i)||w(It,i)){var r=St(n,i);return!r||!w(Pt,i)||w(n,ht)&&n[ht][i]||(r.enumerable=!0),r}},Gt=function(e){var t=Ot(h(e)),n=[];return gt(t,function(e){w(Pt,e)||w(H,e)||n.push(e)}),n},Ut=function(e){var t=e===yt,n=Ot(t?It:h(e)),i=[];return gt(n,function(e){!w(Pt,e)||t&&!w(yt,e)||i.push(Pt[e])}),i};(je||(ne((xt=function(){if(this instanceof xt)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=X(e),n=function(e){this===yt&&n.call(It,e),w(this,ht)&&w(this[ht],t)&&(this[ht][t]=!1),Dt(this,t,g(1,e))};return c&&Rt&&Dt(yt,t,{configurable:!0,set:n}),zt(t,e)})[pt],"toString",function(){return bt(this).tag}),ne(xt,"withoutSetter",function(e){return zt(X(e),e)}),o.f=Wt,I.f=Ft,E.f=Lt,be.f=qe.f=Gt,ye.f=Ut,it.f=function(e){return zt(nt(e),e)},c&&(Ct(xt[pt],"description",{configurable:!0,get:function(){return bt(this).description}}),ne(yt,"propertyIsEnumerable",Wt,{unsafe:!0}))),Te({global:!0,wrap:!0,forced:!je,sham:!je},{Symbol:xt}),gt(Me(Tt),function(e){var t,n;t=e,n=ie.Symbol||(ie.Symbol={}),w(n,t)||rt(n,t,{value:it.f(t)})}),Te({target:vt,stat:!0,forced:!je},{for:function(e){var t=String(e);if(w(At,t))return At[t];var n=xt(t);return At[t]=n,kt[n]=t,n},keyFor:function(e){if(!Mt(e))throw TypeError(e+" is not a symbol");if(w(kt,e))return kt[e]},useSetter:function(){Rt=!0},useSimple:function(){Rt=!1}}),Te({target:"Object",stat:!0,forced:!je,sham:!c},{create:function(e,t){return void 0===t?Je(e):Nt(Je(e),t)},defineProperty:Ft,defineProperties:Nt,getOwnPropertyDescriptor:Lt}),Te({target:"Object",stat:!0,forced:!je},{getOwnPropertyNames:Gt,getOwnPropertySymbols:Ut}),Te({target:"Object",stat:!0,forced:d(function(){ye.f(1)})},{getOwnPropertySymbols:function(e){return ye.f(ze(e))}}),_t)&&Te({target:"JSON",stat:!0,forced:!je||d(function(){var e=xt();return"[null]"!=_t([e])||"{}"!=_t({a:e})||"{}"!=_t(Object(e))})},{stringify:function(e,t,n){for(var i,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if((v(i=t)||void 0!==e)&&!Mt(e))return De(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!Mt(t))return t}),r[1]=t,_t.apply(null,r)}});xt[pt][mt]||k(xt[pt],mt,xt[pt].valueOf),Ve=vt,(Be=xt)&&!w(Be=He?Be:Be.prototype,at)&&ot(Be,at,{configurable:!0,value:Ve}),H[ht]=!0;var $t=I.f,Xt=f.Symbol;if(c&&"function"==typeof Xt&&(!("description"in Xt.prototype)||void 0!==Xt().description)){var Bt={},Vt=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof Vt?new Xt(e):void 0===e?Xt():Xt(e);return""===e&&(Bt[t]=!0),t};_e(Vt,Xt);var Ht=Vt.prototype=Xt.prototype;Ht.constructor=Vt;var Jt=Ht.toString,Kt="Symbol(test)"==String(Xt("test")),Qt=/^Symbol\((.*)\)[^)]+$/;$t(Ht,"description",{configurable:!0,get:function(){var e=v(this)?this.valueOf():this,t=Jt.call(e);if(w(Bt,e))return"";var n=Kt?t.slice(7,-1):t.replace(Qt,"$1");return""===n?void 0:n}}),Te({global:!0,forced:!0},{Symbol:Vt})}var Yt,qt,Zt=oe("navigator","userAgent")||"",en=f.process,tn=en&&en.versions,nn=tn&&tn.v8;nn?qt=(Yt=nn.split("."))[0]+Yt[1]:Zt&&(!(Yt=Zt.match(/Edge\/(\d+)/))||74<=Yt[1])&&(Yt=Zt.match(/Chrome\/(\d+)/))&&(qt=Yt[1]);var rn=qt&&+qt,on=nt("species"),an=function(t){return 51<=rn||!d(function(){var e=[];return(e.constructor={})[on]=function(){return{foo:1}},1!==e[t](Boolean).foo})},sn=Object.defineProperty,cn={},ln=function(e){throw e},fn=function(e,t){if(w(cn,e))return cn[e];t||(t={});var n=[][e],i=!!w(t,"ACCESSORS")&&t.ACCESSORS,r=w(t,0)?t[0]:ln,o=w(t,1)?t[1]:void 0;return cn[e]=!!n&&!d(function(){if(i&&!c)return!0;var e={length:-1};i?sn(e,1,{enumerable:!0,get:ln}):e[1]=1,n.call(e,r,o)})},dn=ut.filter,un=an("filter"),gn=fn("filter");Te({target:"Array",proto:!0,forced:!un||!gn},{filter:function(e){return dn(this,e,1<arguments.length?arguments[1]:void 0)}});var hn=nt("unscopables"),vn=Array.prototype;null==vn[hn]&&I.f(vn,hn,{configurable:!0,value:Je(null)});var pn,mn=ut.find,wn="find",bn=!0,yn=fn(wn);wn in[]&&Array(1)[wn](function(){bn=!1}),Te({target:"Array",proto:!0,forced:bn||!yn},{find:function(e){return mn(this,e,1<arguments.length?arguments[1]:void 0)}}),pn=wn,vn[hn][pn]=!0;var xn=ut.map,_n=an("map"),Sn=fn("map");Te({target:"Array",proto:!0,forced:!_n||!Sn},{map:function(e){return xn(this,e,1<arguments.length?arguments[1]:void 0)}});var Cn=an("slice"),On=fn("slice",{ACCESSORS:!0,0:0,1:2}),En=nt("species"),Pn=[].slice,In=Math.max;Te({target:"Array",proto:!0,forced:!Cn||!On},{slice:function(e,t){var n,i,r,o,a,s,c,l=h(this),f=fe(l.length),d=ge(e,f),u=ge(void 0===t?f:t,f);if(De(l)&&("function"!=typeof(n=l.constructor)||n!==Array&&!De(n.prototype)?v(n)&&null===(n=n[En])&&(n=void 0):n=void 0,n===Array||void 0===n))return Pn.call(l,d,u);for(i=new(void 0===n?Array:n)(In(u-d,0)),r=0;d<u;d++,r++)d in l&&(o=i,a=r,s=l[d],void 0,(c=p(a))in o?I.f(o,c,g(0,s)):o[c]=s);return i.length=r,i}});var An,kn,Tn=[],jn=Tn.sort,Rn=d(function(){Tn.sort(void 0)}),Dn=d(function(){Tn.sort(null)}),zn=!!(kn=[]["sort"])&&d(function(){kn.call(null,An||function(){throw 1},1)});Te({target:"Array",proto:!0,forced:Rn||!Dn||!zn},{sort:function(e){return void 0===e?jn.call(ze(this)):jn.call(ze(this),st(e))}}),Te({target:"Object",stat:!0,forced:d(function(){Me(1)})},{keys:function(e){return Me(ze(e))}});var Mn=o.f,Fn=function(s){return function(e){for(var t,n=h(e),i=Me(n),r=i.length,o=0,a=[];o<r;)t=i[o++],c&&!Mn.call(n,t)||a.push(s?[t,n[t]]:n[t]);return a}},Nn={entries:Fn(!0),values:Fn(!1)}.values;Te({target:"Object",stat:!0},{values:function(e){return Nn(e)}});function Wn(e,t){return RegExp(e,t)}var Ln,Gn,Un={UNSUPPORTED_Y:d(function(){var e=Wn("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),BROKEN_CARET:d(function(){var e=Wn("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},$n=RegExp.prototype.exec,Xn=String.prototype.replace,Bn=$n,Vn=(Ln=/a/,Gn=/b*/g,$n.call(Ln,"a"),$n.call(Gn,"a"),0!==Ln.lastIndex||0!==Gn.lastIndex),Hn=Un.UNSUPPORTED_Y||Un.BROKEN_CARET,Jn=void 0!==/()??/.exec("")[1];(Vn||Jn||Hn)&&(Bn=function(e){var t,n,i,r,o=this,a=Hn&&o.sticky,s=function(){var e=A(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}.call(o),c=o.source,l=0,f=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),f=String(e).slice(o.lastIndex),0<o.lastIndex&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(c="(?: "+c+")",f=" "+f,l++),n=new RegExp("^(?:"+c+")",s)),Jn&&(n=new RegExp("^"+c+"$(?!\\s)",s)),Vn&&(t=o.lastIndex),i=$n.call(a?n:o,f),a?i?(i.input=i.input.slice(l),i[0]=i[0].slice(l),i.index=o.lastIndex,o.lastIndex+=i[0].length):o.lastIndex=0:Vn&&i&&(o.lastIndex=o.global?i.index+i[0].length:t),Jn&&i&&1<i.length&&Xn.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i});var Kn=Bn;Te({target:"RegExp",proto:!0,forced:/./.exec!==Kn},{exec:Kn});var Qn,Yn=nt("species"),qn=!d(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),Zn="$0"==="a".replace(/./,"$0"),ei=nt("replace"),ti=!!/./[ei]&&""===/./[ei]("a","$0"),ni=!d(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),ii=function(s){return function(e,t){var n,i,r=String(u(e)),o=ce(t),a=r.length;return o<0||a<=o?s?"":void 0:(n=r.charCodeAt(o))<55296||56319<n||o+1===a||(i=r.charCodeAt(o+1))<56320||57343<i?s?r.charAt(o):n:s?r.slice(o,o+2):i-56320+(n-55296<<10)+65536}},ri={codeAt:ii(!1),charAt:ii(!0)}.charAt,oi=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==s(e))throw TypeError("RegExp#exec called on incompatible receiver");return Kn.call(e,t)},ai=Math.max,si=Math.min,ci=Math.floor,li=/\$([$&'`]|\d\d?|<[^>]*>)/g,fi=/\$([$&'`]|\d\d?)/g;function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(n,e,t,i){var r=nt(n),o=!d(function(){var e={};return e[r]=function(){return 7},7!=""[n](e)}),a=o&&!d(function(){var e=!1,t=/a/;return"split"===n&&((t={constructor:{}}).constructor[Yn]=function(){return t},t.flags="",t[r]=/./[r]),t.exec=function(){return e=!0,null},t[r](""),!e});if(!o||!a||"replace"===n&&(!qn||!Zn||ti)||"split"===n&&!ni){var s=/./[r],c=t(r,""[n],function(e,t,n,i,r){return t.exec===Kn?o&&!r?{done:!0,value:s.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}},{REPLACE_KEEPS_$0:Zn,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:ti}),l=c[0],f=c[1];ne(String.prototype,n,l),ne(RegExp.prototype,r,2==e?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)})}i&&k(RegExp.prototype[r],"sham",!0)}("replace",2,function(r,S,C,e){var O=e.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=e.REPLACE_KEEPS_$0,P=O?"$":"$0";return[function(e,t){var n=u(this),i=null==e?void 0:e[r];return void 0!==i?i.call(e,n,t):S.call(String(n),e,t)},function(e,t){if(!O&&E||"string"==typeof t&&-1===t.indexOf(P)){var n=C(S,e,this,t);if(n.done)return n.value}var i=A(e),r=String(this),o="function"==typeof t;o||(t=String(t));var a=i.global;if(a){var s=i.unicode;i.lastIndex=0}for(var c,l,f=[];;){var d=oi(i,r);if(null===d)break;if(f.push(d),!a)break;""===String(d[0])&&(i.lastIndex=(c=r,(l=fe(i.lastIndex))+(s?ri(c,l).length:1)))}for(var u,g="",h=0,v=0;v<f.length;v++){d=f[v];for(var p=String(d[0]),m=ai(si(ce(d.index),r.length),0),w=[],b=1;b<d.length;b++)w.push(void 0===(u=d[b])?u:String(u));var y=d.groups;if(o){var x=[p].concat(w,m,r);void 0!==y&&x.push(y);var _=String(t.apply(void 0,x))}else _=I(p,r,m,w,y,t);h<=m&&(g+=r.slice(h,m)+_,h=m+p.length)}return g+r.slice(h)}];function I(o,a,s,c,l,e){var f=s+o.length,d=c.length,t=fi;return void 0!==l&&(l=ze(l),t=li),S.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return o;case"`":return a.slice(0,s);case"'":return a.slice(f);case"<":n=l[t.slice(1,-1)];break;default:var i=+t;if(0===i)return e;if(d<i){var r=ci(i/10);return 0===r?e:r<=d?void 0===c[r-1]?t.charAt(1):c[r-1]+t.charAt(1):e}n=c[i-1]}return void 0===n?"":n})}});var ui,gi,hi,vi,pi={};ui=jQuery,gi=ui(document),hi=wp.customize||null,vi=HFG_Layout_Builder.isRTL,Qn=function(s,c){var e={id:c,controlId:"",cols:12,cellHeight:45,items:[],container:null,widgetsSidebar:null,ready:!1,devices:{desktop:"Desktop",mobile:"Mobile/Tablet"},activePanel:"desktop",panels:{},activeRow:"main",draggingItem:null,insertPoint:null,insertRow:null,getTemplate:_.memoize(function(){var i=this,r={evaluate:/<#([\s\S]+?)#>/g,interpolate:/{{{([\s\S]+?)}}}/g,escape:/{{([^}]+?)}}(?!})/g,variable:"data"};return function(e,t,n){return _.isUndefined(t)&&(t="tmpl-customize-control-"+i.type),!_.isUndefined(n)&&_.isString(n)?r.variable=n:r.variable="data",_.template(ui("#"+t).html(),null,r)(e)}}),drag_drop:function(){var r=this;ui(".hfg--device-panel",r.container).each(function(){var n=ui(this),i=n.data("device");r.panels[i]={},ui(".hfg--cb-items",n).each(function(e){var t=ui(this).attr("data-id")||"",n="_sid_"+i+e;t&&(n="_sid_"+i+"-"+t),ui(this).attr("id",n)}),ui(".grid-stack, .hfg--sidebar-items",n).each(function(){var e=ui(this).attr("data-id")||"";r.panels[i][e]=ui(this),ui(this).droppable({out:function(e,t){},over:function(e,t){},drop:function(e,t){var n=ui(this);r.gridster(n,t,e),r.save()}})});var e=ui("#_sid_mobile-sidebar",n),t=e.attr("id")||!1;ui(".grid-stack-item",n).draggable({revert:"invalid",connectToSortable:!!t&&"#"+t,start:function(e,t){ui("body").addClass("builder-item-moving"),ui(".hfg--cb-items",n).css("z-index",""),t.helper.parent().css("z-index",9999)},stop:function(e,t){ui("body").removeClass("builder-item-moving"),ui(".hfg--cb-items",n).css("z-index",""),t.helper.parent().css("z-index","")}}),0<e.length&&(e.sortable({revert:!0,change:function(e,t){r.save()},receive:function(e,t){ui(this).find(".grid-stack-item").removeAttr("style").attr("data-gs-width",1),r.save()}}),r.panels[i].sidebar=e)})},sortGrid:function(e){ui(".grid-stack-item",e).each(function(){var e=ui(this),t=e.attr("data-gs-x")||0;t=parseInt(t);var n=e.next();if(0<n.length){var i=n.attr("data-gs-x")||0;(i=parseInt(i))<t&&e.insertAfter(n)}})},getX:function(e){var t=e.attr("data-gs-x")||0;return parseInt(t)},getW:function(e,t){var n;return _.isUndefined(t)&&(t=!1),n=t?e.attr("data-df-width")||1:e.attr("data-gs-width")||1,parseInt(n)},gridGetItemInfo:function(e,t,n){var i,r=this.getX(e),o=this.getW(e),a=0,s=0,c=!1;for(i=r-1;0<=i&&!c;)0===t[i]?a++:c=!0,i--;for(c=!1,i=r+o;i<this.cols&&!c;)0===t[i]?s++:c=!0,i++;return{flag:t,x:r,w:o,item:e,before:a,after:s,id:e.attr("data-id")||"",wrapper:n}},updateItemsPositions:function(e){for(var t=this.cols,n=0;n<=t;n++)"object"!==di(e[n])&&"function"!=typeof e[n]||e[n].attr("data-gs-x",n)},gridster:function(e,t,n){var g=[],h=this.cols,v=function(e){for(var t=e.x,n=e.w,i=e.el,r=t;r<t+n;r++)g[r]=r===t?i:1},c=function(e){for(var t=e.x,n=e.w,i=t;i<t+n;i++)g[i]=0},p=function(e,t){for(var n=0,i=e;i<h;i++)if(0===g[i])n++;else if(t)return n;return n},m=function(e,t){var n=0;void 0===t&&(t=!1);for(var i=e;0<=i;i--)if(0===g[i])n++;else if(t)return n;return n},w=function(e){return 0===g[e]},b=function(e,t){for(var n=e;n<e+t;){if(0!==g[n])return!1;n++}return!0},y=function(e){if(e<0)return{x:-1,w:1};var t,n,i,r=-1;if(g[e]<=1)for(t=e,i=!1;0<=t&&!i;)1!==g[t]&&0!==g[t]&&(r=t,i=!0),t--;else r=e;for(t=r+1,n=r;1===g[t];)n++,t++;return{x:r,w:n+1-r}},x=function(e){var t,n,i,r=-1;if(g[e]<h)for(t=e,i=!1;t<h&&!i;)1!==g[t]&&0!==g[t]&&(r=t,i=!0),t++;else r=e;for(t=r+1,n=r;1===g[t];)n++,t++;return{x:r,w:n+1-r}},S=function(e,t){var n=g.slice(),i=m(e);if(0===i)return t;var r=y(e),o=0<=r.x?r.x+r.w-1:e,a=t;i<t&&(a=i);for(var s=0,c=0,l=o;c<=a&&0<=l;)0===g[l]&&(c++,s=l),l--;var f=[],d=0;for(l=s;l<=o;l++)(g[l]=0)!==n[l]&&(f[d]=n[l],d++);for(d=0,l=s;l<=o;l++)void 0!==f[d]?g[l]=f[d]:g[l]=0,d++;return t-a},C=function(e,t){var n=g.slice(),i=p(e);if(0===i)return t;var r=y(e),o=0<=r.x?r.x:e,a=t;i<t&&(a=i);for(var s=e,c=0,l=o;c<a&&l<h;)0===g[l]&&(c++,s=l),l++;var f=[],d=0;for(l=o;l<=s;l++)(g[l]=0)!==n[l]&&(f[d]=n[l],d++);for(d=f.length-1,l=s;o<=l;l--)void 0!==f[d]?g[l]=f[d]:g[l]=0,d--;return t-a},O=function(){E.updateItemsPositions(g)},l=function(e,t){var n,i,r,o,a,s,f=e.x,c=e.w,l=function(){for(var e=0,t=0;t<h;t++)0===g[t]&&e++;return e}();if(l<=0)return!1;if(_.isUndefined(t)&&(t=!1),!t){if(w(f)){if(b(f,o=c))return v(e),e.el.attr("data-gs-x",f),e.el.attr("data-gs-width",o),!0;for((n=c<=(i=p(f,!0))+(r=m(f-1,!0))&&c-i<=r?f-(c-i):f-r)<0&&(n=0);1<=o;){if(b(n,o))return e.x=n,e.w=o,v(e),e.el.attr("data-gs-x",n),e.el.attr("data-gs-width",o),!0;o--}}if(1===g[f]){var d=y(f);if(0<=d.x&&f>d.x+Math.floor(d.w/2)&&f>d.x&&(n=d.x+d.w,c<=(i=p(n,!0))))return v({el:e.el,x:n,w:c}),e.el.attr("data-gs-x",n),e.el.attr("data-gs-width",c),!0}}console.log("--------------------------------------------------------"),function(e,t){var n,i,r,o,a=0,s=!1;if(console.log("insert at x",t),console.log("insert node",e),w(t)){if(console.log("empty_at_X",t),n=y(t),i=x(t),-1<n.x){if(console.log("found_item_left",n),(a=p(n.x))>=e.w)if(b(t,e.w))console.log("found",e),f=t,s=!0;else if(e.ox>t)for(r=n.x+n.w,o=(o=m(r))<=e.w?e.w-o:e.w,C(r+1,o),a=p(r),console.log("loop_start_i",r);r>n.x+n.w&&!s;)b(r,e.w)&&(console.log("found_in_loop__i",r),f=r,s=!0),r--;if(!s&&e.ox<t){console.log("try_move_items_to_left",n),r=n.x+n.w-1,o=m(n.x),console.log("el",o),o>e.w&&(o=e.w),o-=2,S(n.x,o),console.log("try_move_items_to_left_flag",g),console.log("el2",o),r-=a=p(r),i=x(t);var c=n.x+n.w;for(-1<i.x&&(c=i.x),console.log("loop_start 2_i",r);r<c&&!s;)b(r,e.w)&&(console.log("found_in_loop__@__i",r),f=r,s=!0),r++}s||(f=n.x+n.w,e.w=a,e.x=f,console.log("resize_new_w",a),console.log("resize_new_x",f))}else if(-1<i.x){console.log("found_item_right",i),i=x(t),a=p(t,!1),console.log("move_all_item_to Right");var l=a>=e.w?e.w:a;for(C(t,l),r=i.x,console.log("loop_start Right",r);0<=r&&!s;)b(r,e.w)&&(f=r,e.x=f,s=!0,console.log("found_in_while_r",r)),r--;s||(f=t,e.w=a,e.x=f,console.log("resize_r_new_w",a),console.log("resize_r_new_x",f))}}else if(console.log("x is not empty"),n=y(t),e.ox<n.x)if(S(t,e.w),console.log("Move All items to left"),w(t))f=t;else{for(;!w(t)&&t<=E.cols-1;)t++;f=t}else if(C(t,e.w),console.log("Move All items to right"),w(t))f=t;else{for(;!w(t)&&0<=t;)t--;f=t}f>E.cols&&(f=E.cols-1),e.x=f,console.log("new node x",f)}(e,_.clone(f));var u=0;for(f+c>E.cols-1&&(u=m(f,!0),console.log("le",u),0<u&&console.log("move_Left",f+c-E.cols-1)),O();1<=c;){if(c<=l){if(b(f,c))return console.log("",{x:f,w:c}),e.w=c,v(e),e.el.attr("data-gs-x",f),e.el.attr("data-gs-width",c),!0;for(u=m(f,!0),a=f-u,console.log("newX",a),s=a;s<h;){if(b(s,c))return console.log("Insert in While",{x:s,w:c}),e.w=c,v({el:e.el,x:s,w:c}),e.el.attr("data-gs-x",s),e.el.attr("data-gs-width",c),!0;s++}}c--}for(c=e.w;1<=c;){for(s=0;s<h;){if(b(s,c))return console.log("Insert in While 2",{x:s,w:c}),v({el:e.el,x:s,w:c}),e.el.attr("data-gs-x",s),e.el.attr("data-gs-width",c),!0;s++}c--}return console.log("Insert END While",{x:s,w:c}),!1},E=this,i=(g=E.getFlag(e)).slice(),r=e.offset();E.draggingItem=t.draggable;var o,a,s,f,d,u=e.width(),P=u/E.cols,I=t.offset;s=E.getW(t.draggable,!1),a=E.getW(t.draggable,!0),f=t.draggable.width(),console.log("DROP ITEM WIDTH",a),console.log("DROP ITEM cw WIDTH",s);var A=E.getX(t.draggable);vi&&c({el:t.draggable,x:A,w:a});var k,T=0,j=0,R=!1;if(t.draggable.parent().is(e)?(d=!0,console.log("Item in this row"),a=s):(d=!1,console.log("Not in this row"),a<s&&(a=s)),vi?(T=Math.round((r.left+u+10-n.clientX)/P),(j=Math.round((r.left+u-(I.left+f+10))/P))<0&&(j=0)):(T=Math.round((n.clientX-r.left)/P),(j=Math.round((I.left-r.left-10)/P))<0&&(j=0)),T>E.cols&&(T=E.cols),k=o=j,vi){if(!w(k))for(;k<E.cols&&!R;)w(k)?R=!0:k++}else if(!w(o)){for(;o<=T&&!R;)w(o)?R=!0:o++;T<o&&(o=T)}if(R||(o=d?j:T),o<0&&(o=0),o+a>=E.cols){for(R=!0,k=o;k+a>E.cols&&R;)w(k)?k--:(k++,R=!1);o=k}var D={el:t.draggable,x:o,w:a,ox:A,ow:s};D.x<=0&&(D.x=0),(d?(D.x=parseInt(t.draggable.attr("data-gs-x")||0),D.w=parseInt(t.draggable.attr("data-gs-width")||1),function(e,t){var n=e.w;c(e);var i=y(t),r=0;if(-1<i.x&&(r=i.x+i.w),b(t,n))return v({el:e.el,x:t,w:n});if(0<r&&b(r,n)&&r<=t){var o=x(t);if(-1<o.x&&e.w+t>=o.x)for(var a=_.clone(t);r<a;){if(b(a,n))return v({el:e.el,x:a,w:n});a--}if(t+n>E.cols){var s=E.cols-n;if(b(s,n))return v({el:e.el,x:s,w:n})}return v({el:e.el,x:r,w:n})}e.x=t,l(e,!0)}(D,o),1):l(D))?(t.draggable.removeClass("item-from-list"),e.append(t.draggable),t.draggable.removeAttr("style"),console.log("DID Flag: ",g),E.draggingItem=null):(t.draggable.removeAttr("style"),console.log("Can not insert"),g=i),O(),E.updateAllGrids()},updateAllGrids:function(){var n=this;_.each(n.panels[n.activePanel],function(e,t){n.updateGridFlag(e)})},setGridWidth:function(e,t){var n,i,r=this,o=t.element,a=e.width(),s=t.size.width,c=t.originalSize.width,l=Math.ceil(a/r.cols)-1;i=vi?(n=t.originalPosition.left>t.position.left,c!==s):(n=t.originalPosition.left>t.position.left,t.originalPosition.left<t.position.left);var f,d,u,g=t.originalElement.attr("data-gs-width")||1,h=t.originalElement.attr("data-gs-x")||0;g=parseInt(g),h=parseInt(h);var v,p=r.getFlag(e),m=r.gridGetItemInfo(t.originalElement,p,e);if(n)return vi?(d=Math.floor((t.position.left-1)/l),(f=(d=r.cols-d)-h-g)>m.after&&(f=m.after),u=g+f,o.attr("data-gs-x",h).removeAttr("style")):((f=h-(d=Math.floor((t.position.left-1)/l)))>m.before&&(f=m.before),d=h-f,u=g+f,o.attr("data-gs-x",d).removeAttr("style")),o.attr("data-gs-width",u).removeAttr("style"),void r.updateGridFlag(e);if(i)return vi?t.originalPosition.left!==t.position.left?(d=Math.floor((t.position.left-1)/l),g<(f=g+h-(d=r.cols-d))&&(f=0),u=g-f,(d=h)<=0&&(d=0),console.log("diffRight_RTL_COL_New __left")):(d=Math.ceil((t.position.left+t.size.width-11)/l),(f=h-(d=r.cols-d))>m.before&&(f=m.before),d=h-f,u=g+f):((u=g-(f=(d=Math.round((t.position.left-1)/l))-h))<=0&&(u=1,f=0),d=h+f),o.attr("data-gs-x",d).removeAttr("style"),o.attr("data-gs-width",u).removeAttr("style"),void r.updateGridFlag(e);var w,b=m.x;w=Math.ceil((t.position.left+t.size.width-11)/l),v=m.w+(w-(b+m.w)),m.x+v>m.x+m.w+m.after&&(v=m.w+m.after),s<t.originalSize.width&&((w=Math.round((t.position.left+t.size.width-11)/l))<=b&&(w=b+1),v=m.w-(b+m.w-w)),v<=0&&(v=1),o.attr("data-gs-width",v).removeAttr("style"),r.updateGridFlag(e)},getFlag:function(e){var t,n=e.data("gridRowFlag")||[];if(_.isEmpty(n)){for(t=0;t<this.cols;t++)n[t]=0;e.data("gridRowFlag",n)}return n},updateGridFlag:function(e){var i,r=this,o=[];for(i=0;i<r.cols;i++)o[i]=0;return ui(".grid-stack-item",e).each(function(e){ui(this).removeAttr("style");var t=r.getX(ui(this)),n=r.getW(ui(this));for(i=t;i<t+n;i++)o[i]=i===t?ui(this):1}),e.data("gridRowFlag",o),r.updateItemsPositions(o),r.sortGrid(e),o},addNewWidget:function(e,t){var n=this,i=n.container.find(".hfg--device-panel.hfg--panel-"+n.activePanel),r=t;_.isObject(r)||(r=i.find(".hfg--cb-items").first());var o=e;o.draggable({revert:"invalid",appendTo:i,scroll:!1,zIndex:99999,handle:".grid-stack-item-content",start:function(e,t){ui("body").addClass("builder-item-moving"),ui(".hfg--cb-items",i).css("z-index",""),t.helper.parent().css("z-index",9999)},stop:function(e,t){ui("body").removeClass("builder-item-moving"),ui(".hfg--cb-items",i).css("z-index",""),n.save()},drag:function(e,t){}}).resizable({handles:"w, e",start:function(e,t){t.originalElement.css({right:"auto",left:t.position.left})},stop:function(e,t){n.setGridWidth(t.element.parent(),t),n.save()}}),r.append(o),n.updateGridFlag(r),o[0]&&ui("#accordion-section-"+o[0].dataset.section).removeClass("hfg-section-inactive")},addPanel:function(e){var t=this.getTemplate(),n="tmpl-hfg--cb-panel";if(0!==ui("#"+n).length)return _.isObject(s.rows)||(s.rows={}),'<div class="hfg--device-panel hfg-vertical-panel hfg--panel-'+e+'" data-device="'+e+'">'+t({device:e,id:s.id,rows:s.rows},n)+"</div>"},addDevicePanels:function(){var i=this;_.each(i.devices,function(e,t){var n=i.addPanel(t);ui(".hfg--cb-devices-switcher",i.container).append('<a href="#" class="switch-to switch-to-'+t+'" data-device="'+t+'"><span class="icon '+t+'-icon"></span><span>'+e+"</span></a>"),ui(".hfg--cb-body",i.container).append(n),ui(".hfg-widgets-panel-inner",i.widgetSidebarContainer).append('<div class=" hfg--widgets hfg--widgets-'+t+'" data-device="'+t+'"></div>')});var e=ui("#hfg-upsell-tmpl");e.length&&ui(e.html()).insertAfter(ui(".hfg--cb-devices-switcher",i.container))},addItem:function(e,t){var n=this.getTemplate(),i="tmpl-hfg--cb-item";if(0!==ui("#"+i).length){e.elementOrder=t;var r=n(e,i);return ui(r)}},addAvailableItems:function(){var a=this;_.each(a.devices,function(e,o){_.each(a.items,function(e,t){var n=!0;if(!_.isUndefined(e.devices)&&!_.isEmpty(e.devices))if(_.isString(e.devices))e.devices!==o&&(n=!1);else{var i=!1;_.each(e.devices,function(e){o===e&&(i=!0)}),i||(n=!1)}if(n){t=Object.keys(a.items).indexOf(t);var r=a.addItem(e,t);ui(".hfg--widgets-"+o,a.widgetSidebarContainer).prepend(r)}})})},switchToDevice:function(e,t){var n=this;1<_.size(n.devices)?(ui(".hfg--cb-devices-switcher a",n.container).removeClass("hfg--tab-active"),ui(".hfg--cb-devices-switcher .switch-to-"+e,n.container).addClass("hfg--tab-active"),ui(".hfg--device-panel",n.container).addClass("hfg--panel-hide"),ui(".hfg--device-panel.hfg--panel-"+e,n.container).removeClass("hfg--panel-hide"),n.activePanel=e,ui(".hfg--device-panel .hfg-available-items .item-from-list").each(function(e,t){ui("#accordion-section-"+ui(t)[0].dataset.section).removeClass("hfg-section-inactive")}),ui(".hfg--device-panel.hfg--panel-"+e+" .hfg-available-items .item-from-list").each(function(e,t){ui("#accordion-section-"+ui(t)[0].dataset.section).addClass("hfg-section-inactive")})):(ui(".hfg--device-panel.hfg--panel-"+e+" .hfg-available-items .item-from-list").each(function(e,t){ui("#accordion-section-"+ui(t)[0].dataset.section).addClass("hfg-section-inactive")}),ui(".hfg--cb-devices-switcher a",n.container).addClass("hfg--tab-active")),(_.isUndefined(t)||t)&&("desktop"===e?ui("#customize-footer-actions .preview-desktop").trigger("click"):ui("#customize-footer-actions .preview-mobile").trigger("click"))},addExistingRowsItems:function(){var a=this,t=!1;hi.control(a.controlId).setting.get()&&(t=JSON.parse(hi.control(a.controlId).setting.get())),_.isObject(t)||(t={}),_.each(a.panels,function(r,o){var e={};_.isObject(t[o])&&(e=t[o]),_.each(e,function(e,i){_.isUndefined(e)||_.each(e,function(e,t){var n=ui('.hfg--widgets[data-device="'+o+'"] .grid-stack-item[data-id="'+e.id+'"]').first();n.attr("data-gs-width",e.width),n.attr("data-gs-x",e.x),n.removeClass("item-from-list"),a.addNewWidget(n,r[i]),ui("#accordion-section-"+e.id).removeClass("hfg-section-inactive")})}),a.hideDuplicates(o)}),a.ready=!0},focus:function(){this.container.on("click",".hfg--cb-item-setting, .hfg--cb-item-name, .item-tooltip",function(e){e.preventDefault();var t=ui(this).data("section")||"",n=ui(this).attr("data-control")||"",i=!1;n&&(_.isUndefined(hi.control(n))||(hi.control(n).focus(),i=!0)),i||t&&!_.isUndefined(hi.section(t))&&hi.section(t).focus()}),this.container.on("click",".hfg--cb-row-settings",function(e){e.preventDefault();var t=ui(this).attr("data-id")||"",n=s.id+"_"+t;_.isUndefined(hi.section(n))||hi.section(n).focus()})},closeComponentsSidebar:function(){ui(".widgets-panel--visible").removeClass("widgets-panel--visible"),ui(".hfg--widgets.widgets--visible").removeClass("widgets--visible"),ui(this.widgetSidebarContainer).find(".component-search").val("").trigger("keyup"),ui(this.widgetSidebarContainer).removeClass("preview-right preview-left"),ui("body").removeClass("hfg--widgets-open"),ui(".hfg--component-preview.visible").removeClass("visible")},initComponentsSidebar:function(){var l=this;ui(l.container).on("click",".add-button--grid",function(e){l.insertPoint=ui(this).data("slot"),l.insertRow=ui(this).closest(".hfg--row-inner").find(".hfg--cb-items").data("id"),e.preventDefault(),l.closeComponentsSidebar();var t=e.target.getBoundingClientRect(),n=ui(".wp-full-overlay").hasClass("collapsed")?0:ui("#customize-controls").outerWidth(),i=ui(l.widgetSidebarContainer).outerWidth(),r=ui(l.widgetSidebarContainer).outerHeight(),o={top:t.top-(r+5)};6<l.insertPoint?(ui(l.widgetSidebarContainer).addClass("preview-left"),o.left=t.left-n-i+i/7+ui(this).outerWidth()):l.insertPoint<5?(ui(l.widgetSidebarContainer).addClass("preview-right"),o.left=t.left-n-i/7):o.left=t.left-n-i/2+ui(this).outerWidth()/2,ui(l.widgetSidebarContainer).css(o);var a=ui(this).closest(".hfg--device-panel")[0].getAttribute("data-device");ui(l.widgetSidebarContainer).addClass("widgets-panel--visible"),ui(l.widgetSidebarContainer).find(" .hfg--widgets-"+a).addClass("widgets--visible")}),ui(l.widgetSidebarContainer).on("click",".hfg-widgets-panel-header .close",function(e){l.closeComponentsSidebar()}),ui(l.widgetSidebarContainer).on("keyup input",".component-search",function(e){var t=e.target.value.toLowerCase();_.each(l.widgetSidebarContainer.find(".grid-stack-item"),function(e){ui(e).filter(function(){if(ui(this).hasClass("duplicate"))return!1;ui(this).toggle(-1<ui(this).text().toLowerCase().indexOf(t))})})}),ui(l.widgetSidebarContainer).on("click",".grid-stack-item",function(e){l.closeComponentsSidebar();var t=JSON.parse(hi.control(l.controlId).setting.get()),n=ui(this).closest(".hfg--widgets").data("device"),i=ui(this).data("df-width"),r=ui(this).data("id");void 0===t[n]&&(t[n]={}),void 0===t[n][l.insertRow]&&(t[n][l.insertRow]={});var o=Object.values(t[n][l.insertRow]),a={x:l.insertPoint,y:1,width:i,height:1,id:r};o.push(a),ui(this).attr("data-gs-x",l.insertPoint),ui(this).attr("data-gs-width",i),o.sort(function(e,t){return e.x<t.x?-1:e.x>t.x?1:0});for(var s=0;s<o.length;s++)o[s].id===r&&(s===o.length-1?12<o[s].x+o[s].width&&(o[s].width=o[s].x+o[s].width-12,ui(this).attr("data-gs-width",o[s].width)):o[s].x+o[s].width>o[s+1].x&&(o[s].width=o[s+1].x-o[s].x,ui(this).attr("data-gs-width",o[s].width)));var c=ui(this).find(".grid-stack-item-content");c.addClass("hfg-highlight"),setTimeout(function(){c.removeClass("hfg-highlight")},3500),ui("#_sid_"+n+"-"+l.insertRow,l.container[0]).append(this),l.addNewWidget(ui(this),ui(l.container[0]).find(" #_sid_"+n+"-"+l.insertRow)),hi.section(this.getAttribute("data-section")).focus(),l.save(),l.insertRow=null,l.insertPoint=null,l.hideDuplicates(n)})},remove:function(){var i=this;ui(i.container).on("click",".hfg--device-panel .hfg--cb-item-remove",function(e){e.preventDefault();var t=ui(this).closest(".grid-stack-item"),n=t.closest(".hfg--device-panel")[0].getAttribute("data-device");t.attr("data-gs-x",0),t.removeAttr("style"),ui(i.widgetSidebarContainer).find(".hfg--widgets-"+n).prepend(t),ui("#accordion-section-"+t[0].dataset.section).addClass("hfg-section-inactive"),i.updateAllGrids(),i.hideDuplicates(n),i.save()})},removeAllItems:function(){var i=this;ui(i.container).find(".grid-stack-item").each(function(e,t){var n=ui(t).closest(".hfg--device-panel")[0].getAttribute("data-device");ui(t).attr("data-gs-x",0),ui(t).removeAttr("style"),ui(i.widgetSidebarContainer).find(".hfg--widgets-"+n).prepend(t),i.updateAllGrids(),i.hideDuplicates(n)})},hideDuplicates:function(e){var t=ui(this.widgetSidebarContainer).find(".hfg--widgets-"+e+" .grid-stack-item"),n={};_.each(t,function(e){var t=ui(e).data("slug");if("hfg-generic-component"===t)return!1;void 0===n[t]&&(n[t]=[]),n[t].push(e)}),_.each(n,function(e,t){if(e.length<2)return ui(e[0]).removeClass("duplicate"),!1;_.each(e,function(e,t){if(0===t)return ui(e).removeClass("duplicate"),!1;ui(e).addClass("duplicate")})})},encodeValue:function(e){return JSON.stringify(e)},listenForLayoutSideloading:function(){var t=this;document.addEventListener("neve-changed-builder-value",function(e){return!!e.detail&&e.detail.id===t.id&&(hi.control(t.controlId).setting.set(t.encodeValue(e.detail.value)),t.removeAllItems(),void t.addExistingRowsItems())})},decodeValue:function(e){return JSON.parse(e)},save:function(){var i=this;if(i.ready){var r={};_.each(i.panels,function(e,n){r[n]={},_.each(e,function(e,t){r[n][t]=_.map(ui(" > .grid-stack-item",e),function(e){return e=ui(e),{x:i.getX(e),y:1,width:i.getW(e),height:1,id:e.data("id")||""}})})}),hi.control(i.controlId).setting.set(i.encodeValue(r))}},showPanel:function(){var t=this;this.container.find(".add-button--grid").addClass("hfg-highlight"),setTimeout(function(){t.container.find(".add-button--grid").removeClass("hfg-highlight")},1e3),this.container.removeClass("hfg--builder--hide").addClass("hfg--builder-show"),setTimeout(function(){var e=t.container.height();ui("#customize-preview").addClass("cb--preview-panel-show").css({bottom:e-1,"margin-top":"0px"})},100)},hidePanel:function(){this.container.removeClass("hfg--builder-show"),ui("#customize-preview").removeClass("cb--preview-panel-show").removeAttr("style")},togglePanel:function(){var t=this;hi.state("expandedPanel").bind(function(e){hi.panel(s.panel).expanded()?(gi.trigger("hfg_panel_builder_open",[s.panel]),top._current_builder_panel=c,t.showPanel()):(t.hidePanel(),t.closeComponentsSidebar())}),t.container.on("click",".hfg--panel-close",function(e){e.preventDefault(),t.container.toggleClass("hfg--builder--hide"),t.container.hasClass("hfg--builder--hide")?ui("#customize-preview").removeClass("cb--preview-panel-show"):ui("#customize-preview").addClass("cb--preview-panel-show")})},panelLayoutCSS:function(){var e=ui("#customize-controls").width();hi.state("paneVisible").get()||(e=0),vi?this.container.find(".hfg--cb-inner").css({"margin-right":e}):this.container.find(".hfg--cb-inner").css({"margin-left":e})},populateComponentPreviews:function(){var n=this,i=n.getTemplate();_.each(n.devices,function(e,t){_.each(n.items,function(e){if(null===e.description)return!1;var t=i(e,"tmpl-hfg--widgets-preview");ui(n.widgetSidebarContainer).append(t)})})},init:function(e,t,n){var i=this,r=i.getTemplate(),o=r(s,"tmpl-hfg--builder-panel"),a=r(s,"tmpl-hfg--widgets-sidebar");i.container=ui(o),i.widgetSidebarContainer=ui(a),ui("body .wp-full-overlay").append(i.container).append(i.widgetSidebarContainer),i.controlId=e,i.items=t,i.devices=n,s.section&&hi.section(s.section).container.addClass("hfg--hide"),i.addDevicePanels(),i.switchToDevice(i.activePanel),i.addAvailableItems(),i.populateComponentPreviews(),i.switchToDevice(i.activePanel),i.drag_drop(),i.initComponentsSidebar(),i.focus(),i.remove(),i.addExistingRowsItems(),i.listenForLayoutSideloading(),hi.panel(s.panel).expanded()?i.showPanel():(i.hidePanel(),i.closeComponentsSidebar()),hi.previewedDevice.bind(function(e){"desktop"===e?i.switchToDevice("desktop",!1):i.switchToDevice("mobile",!1)}),i.togglePanel(),hi.state("paneVisible").get()&&i.panelLayoutCSS(),hi.state("paneVisible").bind(function(){i.panelLayoutCSS()}),ui(window).resize(_.throttle(function(){i.panelLayoutCSS()},100)),i.container.on("click",".hfg--cb-devices-switcher a.switch-to",function(e){e.preventDefault();var t=ui(this).data("device");i.switchToDevice(t);var n=new CustomEvent("neveChangedRepsonsivePreview",{detail:t});document.dispatchEvent(n)}),gi.trigger("hfg_builder_panel_loaded",[c,i])}};return e.init(s.control_id,s.items,s.devices),e},function(i,r){var e=i(document);function o(e){var t=i(".hfg--cp-sidebar .toggle");return!0===e?(t.addClass("active"),r.previewer.send("header_sidebar_open"),!1):!1===e?(t.removeClass("active"),r.previewer.send("header_sidebar_close"),!1):(t.hasClass("active")?r.previewer.send("header_sidebar_close"):r.previewer.send("header_sidebar_open"),void t.toggleClass("active"))}r.bind("ready",function(e,t){_.each(HFG_Layout_Builder.builders,function(e,t){pi[t]=new Qn(e,t)}),r.bind("pane-contents-reflowed",function(){setTimeout(function(){0===i("#sub-accordion-panel-widgets .no-widget-areas-rendered-notice .footer_moved_widgets_text").length&&i("#sub-accordion-panel-widgets .no-widget-areas-rendered-notice").append('<p class="footer_moved_widgets_text">'+HFG_Layout_Builder.footer_moved_widgets_text+"</p>")},1e3)}),r.state("expandedSection").bind(function(e){i(".hfg--device-panel .grid-stack-item").removeClass("item-active"),i(".hfg--cb-row").removeClass("row-active"),e&&(i('.hfg--cb-row[data-id="'+e.id+'"]').addClass("row-active"),i(".hfg--device-panel .grid-stack-item.for-s-"+e.id).addClass("item-active"))})}),e.on("click",".focus-section",function(e){e.preventDefault();var t=i(this).attr("data-id")||"";t||(t=(t=i(this).attr("href")||"").replace("#","")),t&&r.section(t)&&r.section(t).focus()}),e.on("click",".focus-control",function(e){e.preventDefault();var t=i(this).attr("data-id")||"";t||(t=(t=i(this).attr("href")||"").replace("#","")),t&&r.control(t)&&r.control(t).focus()}),e.on("click",".focus-panel",function(e){e.preventDefault();var t=i(this).attr("data-id")||"";t||(t=(t=i(this).attr("href")||"").replace("#","")),t&&r.panel(t)&&r.panel(t).focus()}),e.on("mouseover",".hfg--widgets .grid-stack-item",function(e){var t=i(this),n=t.attr("data-id");i(t).closest(".hfg--widgets-panel").find('[data-for-component="'+n+'"]').addClass("visible")}),e.on("mouseleave",".hfg--widgets .grid-stack-item",function(e){var t=i(this),n=t.attr("data-id");i(t).closest(".hfg--widgets-panel").find('[data-for-component="'+n+'"]').removeClass("visible")}),e.on("mouseover",".hfg--cb-row .grid-stack-item",function(e){var t=i(this),n=i(".hfg--cb-item-remove",t).outerWidth()+i(".hfg--cb-item-setting",t).outerWidth();i(".grid-stack-item-content",t).innerWidth()-50<n&&t.addClass("show-tooltip")}),e.on("mouseleave",".hfg--cb-row .grid-stack-item",function(e){i(this).removeClass("show-tooltip")}),r.bind("ready",function(){r.section.each(function(t){t.expanded.bind(function(e){var n=[];i(".hfg--sidebar-items .grid-stack-item .grid-stack-item-content .hfg--cb-item-name").each(function(e,t){n.push(i(t).data("section"))}),n.push("hfg_header_layout_sidebar"),-1!==n.indexOf(t.id)&&e&&"desktop"!==r.previewedDevice.get()?o(!0):o(!1)})}),r.previewer.bind("neve-toggle-navbar",function(){i(".hfg--cp-sidebar .toggle").toggleClass("active")})}),e.on("click",".hfg--cp-sidebar .toggle",function(){o()}),e.on("click",".hfg--cp-sidebar .hfg--cb-row-settings,.hfg--cp-sidebar .grid-stack-item",function(){o(!0)}),e.on("click",".quick-links a",function(e){e.preventDefault(),e.stopPropagation();var t=i(this).data("control-focus");wp.customize.control(t).focus(),i("label."+t).click()})}(jQuery,wp.customize||null),hashCode=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<this.length;t++)n=(n<<5)-n+this.charCodeAt(t),n|=0;return n},wp.customize.sectionConstructor.hfg_instructions=wp.customize.Section.extend({attachEvents:function(){},isContextuallyActive:function(){return!0}})}();
