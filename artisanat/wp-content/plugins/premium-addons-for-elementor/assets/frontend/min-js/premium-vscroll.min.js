!function(D){function e(e,t){var o=e.find(".premium-vscroll-wrap"),n=o.data("settings");new premiumVerticalScroll(o,n).init()}window.premiumVerticalScroll=function(e,i){var v=this,f=D(window),p=!1,h=e,g=e.find(".premium-vscroll-sections-wrap").length,l=D("html, body"),t=D("body").data("elementor-device-mode"),w=D(".premium-vscroll-dot-item",h),s=D(".premium-vscroll-nav-item",h),S=(i=D.extend({},{speed:700,offset:0,fullSection:!0},i),{}),a=null,C=!1,y=!0,d=0,m=0;function T(e){return Object.keys(e)[0]}function b(e){return Object.keys(e)[Object.keys(e).length-1]}function k(){var e=f.scrollTop(),t=T(S),o=S[t].offset,n=e+f.outerHeight(),r=v.visible(h,!0,!1);return!(o<n)&&!!r}function O(){var e=f.scrollTop(),t=b(S),o=S[t].offset+S[t].height,n=v.visible(h,!0,!1);return!(e<o)&&!!n}jQuery.extend(jQuery.easing,{easeInOutCirc:function(e,t,o,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+o:n/2*(Math.sqrt(1-(t-=2)*t)+1)+o}}),v.init=function(){p=v.isTouchDevice(),(i.fullTouch||!p&&i.fullSection)&&v.setSectionsOverflow(),v.setSectionsData(),w.on("click.premiumVerticalScroll",v.onNavDotChange),s.on("click.premiumVerticalScroll",v.onNavDotChange),w.on("mouseenter.premiumVerticalScroll",v.onNavDotEnter),w.on("mouseleave.premiumVerticalScroll",v.onNavDotLeave),"desktop"===t&&f.on("scroll.premiumVerticalScroll",v.onWheel),f.on("resize.premiumVerticalScroll orientationchange.premiumVerticalScroll",v.debounce(50,v.onResize)),f.on("load",function(){v.setSectionsData(),(i.fullTouch||!p&&i.fullSection)&&v.sectionsOverflowRefresh(),v.checkCurrentActive()}),v.keyboardHandler(),v.scrollHandler(),i.fullSection&&v.fullSectionHandler(),i.animation&&h.find(".premium-vscroll-dots").removeClass("elementor-invisible").addClass("animated "+i.animation+" animated-"+i.duration)},v.checkCurrentActive=function(){var e=Object.keys(S)[0],t=S[e].offset;t>=f.scrollTop()&&t-f.scrollTop()<200&&(a=1,w.removeClass("active"),D(w[0]).addClass("active")),a&&D(".premium-vscroll-dots").removeClass("premium-vscroll-dots-hide")},v.setSectionsOverflow=function(){w.each(function(){var e=D(this).data("menuanchor"),t=D("#"+e),o=t.outerHeight();if(o>f.outerHeight()&&50<=o-f.outerHeight()){t.find(".elementor").first().wrapInner("<div id='scroller-"+e+"'></div>"),D("#scroller-"+e).slimScroll({height:f.outerHeight(),railVisible:!1});var n=new IScroll("#scroller-"+e,{mouseWheel:!0,scrollbars:!0,hideScrollbars:!0,fadeScrollbars:!1,disableMouse:!0,interactiveScrollbars:!1});D("#scroller-"+e).data("iscrollInstance",n),setTimeout(function(){n.refresh()},1500)}})},v.sectionsOverflowRefresh=function(){w.each(function(){var e=D(this).data("menuanchor"),t=D("#scroller-"+e).data("iscrollInstance");t&&t.refresh()})},v.setSectionsData=function(){w.each(function(){var e=D(this).data("menuanchor"),t=D("#"+e),o=t.outerHeight();t[0]&&(S[e]={selector:t,offset:Math.round(t.offset().top),height:o})})},v.fullSectionHandler=function(){var e=document.getElementById(h.attr("id"));p&&i.fullTouch?(document.addEventListener("touchstart",v.onTouchStart),document.addEventListener("touchmove",v.onTouchMove,{passive:!1})):g?document.addEventListener?e.addEventListener("wheel",v.onWheel,{passive:!1}):e.attachEvent("onmousewheel",v.onWheel):document.addEventListener?document.addEventListener("wheel",v.onWheel,{passive:!1}):document.attachEvent("onmousewheel",v.onWheel)},v.scrollHandler=function(){var e=0;for(var t in S){var o=S[t].selector;elementorFrontend.waypoint(o,function(){var e=D(this).attr("id");C||(a=e,w.removeClass("active"),s.removeClass("active"),D("[data-menuanchor="+e+"]",h).addClass("active"))},{offset:0!==e?"0%":"-1%",triggerOnce:!1}),e++}},v.keyboardHandler=function(){D(document).keydown(function(e){38==e.keyCode&&v.onKeyUp(e,"up"),40==e.keyCode&&v.onKeyUp(e,"down")})},v.isScrolled=function(e,t){var o=D("#scroller-"+e),n=o.data("iscrollInstance");return!n||("down"===t?0-n.y+o.scrollTop()+1+o.innerHeight()>=o[0].scrollHeight:"up"===t?0<=n.y&&!o.scrollTop():void 0)},v.isTouchDevice=function(){var e=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),t="ontouchstart"in window||0<navigator.msMaxTouchPoints||navigator.maxTouchPoints;return e||t},v.getEventsPage=function(e){var t=[];return t.y=void 0!==e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,t.x=void 0!==e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,p&&void 0!==e.touches&&(t.y=e.touches[0].pageY,t.x=e.touches[0].pageX),t},v.onTouchStart=function(e){y=!0;var t=v.getEventsPage(e);d=t.y},v.onTouchMove=function(e){if(y&&v.preventDefault(e),C)return v.preventDefault(e),!1;var t=v.getEventsPage(e);m=t.y;var o=D(e.target),n=g?".premium-vscroll-temp":".elementor-top-section",r=o.closest(n).attr("id"),i=!1,l=!1,s=!1,a=!1,c=f.scrollTop();if(D(".premium-vscroll-tooltip").hide(),k()&&(r=v.getFirstSection(S)),O()&&(r=v.getLastSection(S)),m<d?a="down":d<m&&(a="up"),r&&S.hasOwnProperty(r))if(l=v.checkPrevSection(S,r),s=v.checkNextSection(S,r),"up"===a&&(i=!s&&S[r].offset<c?r:l),"down"===a&&(i=!l&&S[r].offset>c+5?r:s),i){if(y=!0,D(".premium-vscroll-dots, .premium-vscroll-nav-menu").removeClass("premium-vscroll-dots-hide"),!v.isScrolled(r,a))return;Math.abs(d-m)>window.innerHeight/100*15&&v.onAnchorChange(i)}else{y=!1;var u=g?h:D("#"+r);"down"===a?600<u.offset().top+u.innerHeight()-D(document).scrollTop()&&D(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide"):"up"===a&&200<u.offset().top-D(document).scrollTop()&&D(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide")}else y=!1},v.scrollStop=function(){l.stop(!0)},v.checkNextSection=function(e,t){var o=Object.keys(e),n=o.indexOf(t),r=n+=1;return!(r>=o.length)&&o[r]},v.checkPrevSection=function(e,t){var o=Object.keys(e),n=o.indexOf(t),r=--n;return!(n<0)&&o[r]},v.debounce=function(t,o){var n;return function(e){n&&clearTimeout(n),n=setTimeout(function(){o.call(this,e),n=null},t)}},v.visible=function(e,t,o){var n=e.get(0),r=f.outerHeight(),i=!0!==o||n.offsetWidth*n.offsetHeight;if("function"==typeof n.getBoundingClientRect){var l=n.getBoundingClientRect(),s=0<=l.top&&l.top<r,a=0<l.bottom&&l.bottom<=r,c=t?s||a:s&&a;c=l.top<0&&l.bottom>r||c;return i&&c}var u=0+r,d=f.position().top,m=d+f.height();return!!i&&(!0===t?d:m)<=u&&0<=(!0===t?m:d)},v.onNavDotEnter=function(){var e=D(this),t=e.data("index");i.tooltips&&D('<div class="premium-vscroll-tooltip"><span>'+i.dotsText[t]+"</span></div>").hide().appendTo(e).fadeIn(200)},v.onNavDotLeave=function(){D(".premium-vscroll-tooltip").fadeOut(200,function(){D(this).remove()})},v.onNavDotChange=function(e){var t=D(this),o=t.index(),n=t.data("menuanchor"),r=null;if(!S.hasOwnProperty(n))return!1;(r=S[n].offset-i.offset)<0&&(r=S[n].offset),C||(C=!0,a=n,s.removeClass("active"),w.removeClass("active"),t.hasClass("premium-vscroll-nav-item")?D(w[o]).addClass("active"):D(s[o]).addClass("active"),t.addClass("active"),l.stop().clearQueue().animate({scrollTop:r},i.speed,"easeInOutCirc",function(){C=!1}))},v.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},v.onAnchorChange=function(e){var t=D("[data-menuanchor="+e+"]",h),o=null;if(!S.hasOwnProperty(e))return!1;(o=S[e].offset-i.offset)<0&&(o=S[e].offset),C||(C=!0,i.addToHistory&&window.history.pushState(null,null,"#"+e),a=e,w.removeClass("active"),s.removeClass("active"),t.addClass("active"),l.animate({scrollTop:o},i.speed,"easeInOutCirc",function(){C=!1}))},v.onKeyUp=function(e,t){t=t||"up";var o=D(".premium-vscroll-dot-item[data-menuanchor="+a+"]",h).next(),n=D(".premium-vscroll-dot-item[data-menuanchor="+a+"]",h).prev();if(e.preventDefault(),C)return!1;"up"===t&&n[0]&&n.trigger("click.premiumVerticalScroll"),"down"===t&&o[0]&&o.trigger("click.premiumVerticalScroll")},v.onScroll=function(e){C&&e.preventDefault()},v.onWheel=function(e){if(y&&!p&&v.preventDefault(e),C)return!1;var t,o=D(e.target),n=g?".premium-vscroll-temp":".elementor-top-section",r=o.closest(n).attr("id"),i=v.visible(h,!0,!1),l=!1,s=!1,a=!1,c=(t=e,t=window.event||t,Math.max(-1,Math.min(1,t.wheelDelta||-t.deltaY||-t.detail)))<0?"down":"up",u=f.scrollTop(),d=D(".premium-vscroll-dot-item.active").index();if(p&&(D(".premium-vscroll-tooltip").hide(),d!==w.length-1||i?0!==d||i?D(".premium-vscroll-dots, .premium-vscroll-nav-menu").removeClass("premium-vscroll-dots-hide"):200<h.offset().top-D(document).scrollTop()&&D(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide"):D(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide")),k()&&(r=T(S)),O()&&(r=b(S)),r&&S.hasOwnProperty(r))if(s=v.checkPrevSection(S,r),a=v.checkNextSection(S,r),"up"==c&&(l=!a&&S[r].offset<u?r:s),"down"==c&&(l=!s&&S[r].offset>u+5?r:a),l){if(y=!0,!v.isScrolled(r,c)&&!p)return;D(".premium-vscroll-dots, .premium-vscroll-nav-menu").removeClass("premium-vscroll-dots-hide"),v.onAnchorChange(l)}else{y=!1;var m=g?h:D("#"+r);"down"==c?600<m.offset().top+m.innerHeight()-D(document).scrollTop()&&D(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide"):"up"==c&&D(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide")}else y=!1},v.onResize=function(){v.setSectionsData(),v.sectionsOverflowRefresh()}},D(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/premium-vscroll.default",e)})}(jQuery);